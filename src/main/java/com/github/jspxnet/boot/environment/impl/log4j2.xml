<<<<<<< HEAD
<?xml version="1.0" encoding="GBK" ?>
<Configuration>
    <logger name="org.apache" level="ERROR" />
    <logger name="httpclient" level="ERROR" />

    <!-- Êä³öÈÕÖ¾µ½¿ØÖÆÌ¨  ConsoleAppender -->
=======
<?xml version="1.0" encoding="UTF-8"?>
<!--
    status : è¿™ä¸ªç”¨äºŽè®¾ç½®log4j2è‡ªèº«å†…éƒ¨çš„ä¿¡æ¯è¾“å‡º,å¯ä»¥ä¸è®¾ç½®,å½“è®¾ç½®æˆtraceæ—¶,ä¼šçœ‹åˆ°log4j2å†…éƒ¨å„ç§è¯¦ç»†è¾“å‡º
    monitorInterval : Log4jèƒ½å¤Ÿè‡ªåŠ¨æ£€æµ‹ä¿®æ”¹é…ç½®æ–‡ä»¶å’Œé‡æ–°é…ç½®æœ¬èº«, è®¾ç½®é—´éš”ç§’æ•°ã€‚
    æ³¨ï¼šæœ¬é…ç½®æ–‡ä»¶çš„ç›®æ ‡æ˜¯å°†ä¸åŒçº§åˆ«çš„æ—¥å¿—è¾“å‡ºåˆ°ä¸åŒæ–‡ä»¶ï¼Œæœ€å¤§2MBä¸€ä¸ªæ–‡ä»¶ï¼Œ
    æ–‡ä»¶æ•°æ®è¾¾åˆ°æœ€å¤§å€¼æ—¶ï¼Œæ—§æ•°æ®ä¼šè¢«åŽ‹ç¼©å¹¶æ”¾è¿›æŒ‡å®šæ–‡ä»¶å¤¹
-->
<Configuration status="INFO" monitorInterval="600">
>>>>>>> dev
    <Properties>
        <!-- é…ç½®æ—¥å¿—æ–‡ä»¶è¾“å‡ºç›®å½•ï¼Œæ­¤é…ç½®å°†æ—¥å¿—è¾“å‡ºåˆ°tomcatæ ¹ç›®å½•ä¸‹çš„æŒ‡å®šæ–‡ä»¶å¤¹ -->
        <Property name="logPath">${logPath}</Property>
    </Properties>
    <Appenders>
        <!--è¿™ä¸ªè¾“å‡ºæŽ§åˆ¶å°çš„é…ç½®ï¼Œè¿™é‡Œè¾“å‡ºé™¤äº†warnå’Œerrorçº§åˆ«çš„ä¿¡æ¯åˆ°System.out-->
        <Console name="console_out_appender" target="SYSTEM_OUT">
            <!-- æŽ§åˆ¶å°åªè¾“å‡ºlevelåŠä»¥ä¸Šçº§åˆ«çš„ä¿¡æ¯(onMatch),å…¶ä»–çš„ç›´æŽ¥æ‹’ç»(onMismatch) -->
            <ThresholdFilter level="warn" onMatch="DENY" onMismatch="ACCEPT"/>
            <!-- è¾“å‡ºæ—¥å¿—çš„æ ¼å¼ -->
            <PatternLayout pattern="%5p [%t] %d{yyyy-MM-dd HH:mm:ss} (%F:%L) %m%n"/>
        </Console>
        <!--è¿™ä¸ªè¾“å‡ºæŽ§åˆ¶å°çš„é…ç½®ï¼Œè¿™é‡Œè¾“å‡ºwarnå’Œerrorçº§åˆ«çš„ä¿¡æ¯åˆ°System.errï¼Œåœ¨eclipseæŽ§åˆ¶å°ä¸Šçœ‹åˆ°çš„æ˜¯çº¢è‰²æ–‡å­—-->
        <Console name="console_err_appender" target="SYSTEM_ERR">
            <!-- æŽ§åˆ¶å°åªè¾“å‡ºlevelåŠä»¥ä¸Šçº§åˆ«çš„ä¿¡æ¯(onMatch),å…¶ä»–çš„ç›´æŽ¥æ‹’ç»(onMismatch) -->
            <ThresholdFilter level="warn" onMatch="ACCEPT" onMismatch="DENY"/>
            <!-- è¾“å‡ºæ—¥å¿—çš„æ ¼å¼ -->
            <PatternLayout pattern="%5p [%t] %d{yyyy-MM-dd HH:mm:ss} (%F:%L) %m%n"/>
        </Console>
        <!-- TRACEçº§åˆ«æ—¥å¿— -->
        <!-- è®¾ç½®æ—¥å¿—æ ¼å¼å¹¶é…ç½®æ—¥å¿—åŽ‹ç¼©æ ¼å¼ï¼ŒåŽ‹ç¼©æ–‡ä»¶ç‹¬ç«‹æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹å†…ï¼Œ
        æ—¥æœŸæ ¼å¼ä¸èƒ½ä¸ºå†’å·ï¼Œå¦åˆ™æ— æ³•ç”Ÿæˆï¼Œå› ä¸ºæ–‡ä»¶åä¸å…è®¸æœ‰å†’å·ï¼Œæ­¤appenderåªè¾“å‡ºtraceçº§åˆ«çš„æ•°æ®åˆ°trace.log -->
        <RollingRandomAccessFile name="trace_appender"
                                 immediateFlush="true" fileName="${logPath}trace.log"
                                 filePattern="${logPath}/trace/trace-%d{yyyy-MM-dd}.log.gz">
            <PatternLayout>
                <pattern>%5p [%t] %d{yyyy-MM-dd HH:mm:ss} (%F:%L) %m%n</pattern>
            </PatternLayout>
            <Policies><!-- ä¸¤ä¸ªé…ç½®ä»»é€‰å…¶ä¸€ -->
                <!-- æ¯ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§2MB -->
                <SizeBasedTriggeringPolicy size="10MB"/>
            </Policies>
            <Filters><!-- æ­¤Filteræ„æ€æ˜¯ï¼Œåªè¾“å‡ºdebugçº§åˆ«çš„æ•°æ® -->
                <!-- DENYï¼Œæ—¥å¿—å°†ç«‹å³è¢«æŠ›å¼ƒä¸å†ç»è¿‡å…¶ä»–è¿‡æ»¤å™¨ï¼›
                       NEUTRALï¼Œæœ‰åºåˆ—è¡¨é‡Œçš„ä¸‹ä¸ªè¿‡æ»¤å™¨è¿‡æŽ¥ç€å¤„ç†æ—¥å¿—ï¼›
                       ACCEPTï¼Œæ—¥å¿—ä¼šè¢«ç«‹å³å¤„ç†ï¼Œä¸å†ç»è¿‡å‰©ä½™è¿‡æ»¤å™¨ã€‚ -->
                <ThresholdFilter level="debug" onMatch="DENY" onMismatch="NEUTRAL"/>
                <ThresholdFilter level="trace" onMatch="ACCEPT" onMismatch="DENY"/>
            </Filters>
        </RollingRandomAccessFile>
        <!-- DEBUGçº§åˆ«æ—¥å¿— -->
        <!-- è®¾ç½®æ—¥å¿—æ ¼å¼å¹¶é…ç½®æ—¥å¿—åŽ‹ç¼©æ ¼å¼ï¼ŒåŽ‹ç¼©æ–‡ä»¶ç‹¬ç«‹æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹å†…ï¼Œ
        æ—¥æœŸæ ¼å¼ä¸èƒ½ä¸ºå†’å·ï¼Œå¦åˆ™æ— æ³•ç”Ÿæˆï¼Œå› ä¸ºæ–‡ä»¶åä¸å…è®¸æœ‰å†’å·ï¼Œæ­¤appenderåªè¾“å‡ºdebugçº§åˆ«çš„æ•°æ®åˆ°debug.log -->
        <RollingRandomAccessFile name="debug_appender"
                                 immediateFlush="true" fileName="${logPath}debug.log"
                                 filePattern="${logPath}/debug-%d{yyyy-MM-dd}.log.gz">
            <PatternLayout>
                <pattern>%5p [%t] %d{yyyy-MM-dd HH:mm:ss} (%F:%L) %m%n</pattern>
            </PatternLayout>
            <Policies><!-- ä¸¤ä¸ªé…ç½®ä»»é€‰å…¶ä¸€ -->
                <!-- æ¯ä¸ªæ—¥å¿—æ–‡ä»¶æœ€å¤§2MB -->
                <SizeBasedTriggeringPolicy size="2MB"/>
                <!-- å¦‚æžœå¯ç”¨æ­¤é…ç½®ï¼Œåˆ™æ—¥å¿—ä¼šæŒ‰æ–‡ä»¶åç”Ÿæˆæ–°åŽ‹ç¼©æ–‡ä»¶ï¼Œ
                å³å¦‚æžœfilePatterné…ç½®çš„æ—¥æœŸæ ¼å¼ä¸º %d{yyyy-MM-dd HH} ï¼Œåˆ™æ¯å°æ—¶ç”Ÿæˆä¸€ä¸ªåŽ‹ç¼©æ–‡ä»¶ï¼Œ
                å¦‚æžœfilePatterné…ç½®çš„æ—¥æœŸæ ¼å¼ä¸º %d{yyyy-MM-dd} ï¼Œåˆ™å¤©ç”Ÿæˆä¸€ä¸ªåŽ‹ç¼©æ–‡ä»¶ -->
                <!--                 <TimeBasedTriggeringPolicy interval="1" modulate="true" /> -->
            </Policies>
            <Filters><!-- æ­¤Filteræ„æ€æ˜¯ï¼Œåªè¾“å‡ºdebugçº§åˆ«çš„æ•°æ® -->
                <!-- DENYï¼Œæ—¥å¿—å°†ç«‹å³è¢«æŠ›å¼ƒä¸å†ç»è¿‡å…¶ä»–è¿‡æ»¤å™¨ï¼›
                       NEUTRALï¼Œæœ‰åºåˆ—è¡¨é‡Œçš„ä¸‹ä¸ªè¿‡æ»¤å™¨è¿‡æŽ¥ç€å¤„ç†æ—¥å¿—ï¼›
                       ACCEPTï¼Œæ—¥å¿—ä¼šè¢«ç«‹å³å¤„ç†ï¼Œä¸å†ç»è¿‡å‰©ä½™è¿‡æ»¤å™¨ã€‚ -->
                <ThresholdFilter level="info" onMatch="DENY" onMismatch="NEUTRAL"/>
                <ThresholdFilter level="debug" onMatch="ACCEPT" onMismatch="DENY"/>
            </Filters>
        </RollingRandomAccessFile>
        <!-- INFOçº§åˆ«æ—¥å¿— -->
        <RollingRandomAccessFile name="info_appender"
                                 immediateFlush="true" fileName="${logPath}/info.log"
                                 filePattern="${logPath}/info-%d{yyyy-MM-dd}.log.gz">
            <PatternLayout>
                <pattern>%5p [%t] %d{yyyy-MM-dd HH:mm:ss} (%F:%L) %m%n</pattern>
            </PatternLayout>
            <Policies>
                <SizeBasedTriggeringPolicy size="2MB"/>
            </Policies>
<<<<<<< HEAD
        </RollingFile>
        <RollingFile name="FILE_ERROR" fileName="${logPath}/error.log"
                     filePattern="${logPath}/error-%d{yyyy-MM-dd}-%i.log">
            <!-- µ±Ê¹ÓÃ×éºÏ¹ýÂËÆ÷µÄÊ±ºò£¬onMatch/onMismatch=NEUTRALµÄÊ±ºò ÈÕÖ¾ÏûÏ¢»á¼ÌÐøÍùºóÃæÁ÷×ª-->
            <ThresholdFilter level="ERROR" onMatch="ACCEPT" onMismatch="DENY"/>
=======
            <Filters>
                <ThresholdFilter level="warn" onMatch="DENY" onMismatch="NEUTRAL"/>
                <ThresholdFilter level="info" onMatch="ACCEPT" onMismatch="DENY"/>
            </Filters>
        </RollingRandomAccessFile>
        <!-- WARNçº§åˆ«æ—¥å¿— -->
        <RollingRandomAccessFile name="warn_appender"
                                 immediateFlush="true" fileName="${logPath}/warn.log"
                                 filePattern="${logPath}/warn-%d{yyyy-MM-dd}.log.gz">
>>>>>>> dev
            <PatternLayout>
                <pattern>%5p [%t] %d{yyyy-MM-dd HH:mm:ss} (%F:%L) %m%n</pattern>
            </PatternLayout>
            <Policies>
                <SizeBasedTriggeringPolicy size="2MB"/>
            </Policies>
<<<<<<< HEAD
        </RollingFile>
        <RollingFile name="FILE_WARN" fileName="${logPath}/warn.log"
                     filePattern="${logPath}/warn-%d{yyyy-MM-dd}-%i.log">
            <!-- µ±Ê¹ÓÃ×éºÏ¹ýÂËÆ÷µÄÊ±ºò£¬onMatch/onMismatch=NEUTRALµÄÊ±ºò ÈÕÖ¾ÏûÏ¢»á¼ÌÐøÍùºóÃæÁ÷×ª-->
=======
>>>>>>> dev
            <Filters>
                <ThresholdFilter level="error" onMatch="DENY" onMismatch="NEUTRAL"/>
                <ThresholdFilter level="warn" onMatch="ACCEPT" onMismatch="DENY"/>
            </Filters>
        </RollingRandomAccessFile>
        <!-- ERRORçº§åˆ«æ—¥å¿— -->
        <RollingRandomAccessFile name="error_appender"
                                 immediateFlush="true" fileName="${logPath}/error.log"
                                 filePattern="${logPath}/error-%d{yyyy-MM-dd}.log.gz">
            <PatternLayout>
                <pattern>%5p [%t] %d{yyyy-MM-dd HH:mm:ss} (%F:%L) %m%n</pattern>
            </PatternLayout>
            <Policies>
                <SizeBasedTriggeringPolicy size="2MB"/>
            </Policies>
            <Filters>
                <ThresholdFilter level="error" onMatch="ACCEPT" onMismatch="DENY"/>
            </Filters>
        </RollingRandomAccessFile>
    </Appenders>
    <Loggers>
        <!-- é…ç½®æ—¥å¿—çš„æ ¹èŠ‚ç‚¹ -->
        <root level="${debug=='true'?'DEBUG':'INFO'}">
            <appender-ref ref="console_out_appender"/>
            <appender-ref ref="console_err_appender"/>
            <appender-ref ref="trace_appender"/>
            <appender-ref ref="debug_appender"/>
            <appender-ref ref="info_appender"/>
            <appender-ref ref="warn_appender"/>
            <appender-ref ref="error_appender"/>
        </root>
        <!-- ç¬¬ä¸‰æ–¹æ—¥å¿—ç³»ç»Ÿ -->
        <logger name="io.netty" level="ERROR"/>
        <logger name="org.springframework.core" level="ERROR"/>
        <logger name="org.springframework.beans" level="ERROR"/>
        <logger name="org.springframework.context" level="ERROR"/>
        <logger name="org.springframework.web" level="ERROR"/>
        <logger name="org.jboss.netty" level="ERROR"/>
        <logger name="org.apache.http" level="ERROR"/>
        <logger name="org.apache" level="ERROR" />
        <logger name="httpclient" level="ERROR" />
    </Loggers>
</Configuration>